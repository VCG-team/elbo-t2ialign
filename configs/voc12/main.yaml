# config for voc12 dataset
dataset: "voc12"

# input/output/model paths
data_root: "./VOCdevkit/VOC2012"
data_name_list: "./data/voc12/train_id.txt"
output_path: "./output/segmentation/voc12"
diffusion_path: "/data/wjl/.cache/huggingface/hub/models--runwayml--stable-diffusion-v1-5/snapshots/c9ab35ff5f2c362e9e22fbafe278077e196057f0"
blip_path: "/data/wjl/ptp_diffusion/blip/blip-image-captioning-large"

# main process settings (main.py)
device: 5
seed: 4307
use_blip: True
print_prompt: False # 是否打印prompt
self_times: 1 # 乘以self_att的次数
self_64_times: 1 # 乘以self_64的次数

# ptp attention settings (ptp_utils.py)
# For stable diffusion v1.5 series, cross/self attns are both 16 layers in unet.
# As img pass down->mid->up unet block, img resolution will pass 64*2->32*2->16*2->8->16*3->32*3->64*3.
# Only part of attn layers have strong semantic information(https://arxiv.org/abs/2309.04109).
# So we can choose some layers to achieve better performance.
target_factor: 0.5 # source img latent需要融合target img latent的比例
valid_cross_layer: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15] # 需要选择的cross attention层
cross_weight: [1, 1, 1, 1, 10, 10, 15, 10, 10, 10, 1, 1, 1, 1, 1, 1] # 每一层cross attention的权重，列表长度需要和valid_cross_attn一致
valid_self_layer: [0, 1, 11, 12, 13, 14, 15] # 需要选择的self attention层
self_weight: [2, 2, 1, 1, 2, 2, 2] # 每一层self attention的权重，列表长度需要和valid_self_attn一致

# dds loss settings (dds_utils.py)
use_dds: True
timesteps: [1, 25, 50, 75, 100, 125, 150]
guidance_scale: 7.5
lr: 1.0e-1
loss_factor: 2000.0
alpha_exp: 0.0
sigma_exp: 0.0

# dataset metainfo
category:
  [
    "plane",
    "bicycle",
    "bird",
    "boat",
    "bottle",
    "buses",
    "car",
    "cat",
    "chair",
    "cow",
    "table",
    "dog",
    "horse",
    "motorbike",
    "people",
    "plant",
    "sheep",
    "sofa",
    "train",
    "monitor",
  ]
bg_category:
  [
    "ground",
    "land",
    "grass",
    "tree",
    "building",
    "wall",
    "sky",
    "lake",
    "water",
    "river",
    "sea",
    "railway",
    "railroad",
    "keyboard",
    "helmet",
    "cloud",
    "house",
    "mountain",
    "ocean",
    "road",
    "rock",
    "street",
    "valley",
    "bridge",
    "sign",
  ]
